# Search Enhancement Configuration
# Used by SearchBar.astro for synonyms, best bets, and type-ahead suggestions
#
# This file is processed at build time and embedded in the search component.

# Synonym mappings - when user searches for key, also match values
# Format: search_term: [synonym1, synonym2, ...]
synonyms:
  # Food assistance programs
  food stamps: [snap, calfresh, ebt, food assistance, grocery help]
  snap: [food stamps, calfresh, ebt, food assistance]
  calfresh: [food stamps, snap, ebt, california food assistance]
  ebt: [food stamps, snap, calfresh, electronic benefits]
  wic: [women infants children, nutrition, baby food, formula]
  food bank: [food pantry, free food, groceries, emergency food]
  food pantry: [food bank, free food, groceries]
  meals: [food, lunch, dinner, breakfast, eating]
  hungry: [food, meals, food bank, food stamps]

  # Housing and rent (expanded)
  section 8: [housing voucher, rental assistance, hud, housing choice, hcv]
  housing voucher: [section 8, rental assistance, rent help, housing choice voucher]
  rent help: [rental assistance, section 8, housing voucher, eviction prevention]
  rental assistance: [rent help, section 8, housing voucher, emergency rental]
  housing authority: [section 8, housing voucher, public housing, hud]
  public housing: [housing authority, section 8, low-income housing]
  affordable housing: [low-income housing, bmi, below market rate, dahlia]
  homeless: [unhoused, housing, shelter, unsheltered, houseless]
  unhoused: [homeless, housing, shelter, houseless]
  shelter: [homeless, housing, emergency shelter, navigation center]
  eviction: [rent help, legal aid, tenant rights, rental assistance, unlawful detainer]
  first-time homebuyer: [down payment, mortgage, calhfa, homeownership]
  down payment: [first-time homebuyer, mortgage assistance, homeownership]

  # Healthcare
  medi-cal: [medicaid, health insurance, healthcare, medical]
  medicaid: [medi-cal, health insurance, healthcare]
  medicare: [health insurance, senior health, 65, retirement health]
  health insurance: [medi-cal, medicaid, covered california, healthcare]
  covered california: [health insurance, aca, obamacare, marketplace]
  mental health: [counseling, therapy, behavioral health, 988, crisis]
  doctor: [healthcare, clinic, medical, physician]
  dental: [dentist, teeth, denti-cal, oral health]

  # Financial assistance
  welfare: [calworks, tanf, public assistance, cash aid]
  calworks: [welfare, tanf, cash assistance, public assistance]
  tanf: [welfare, calworks, temporary assistance]
  cash aid: [welfare, calworks, emergency cash, financial assistance]
  utility help: [liheap, care, fera, pgcap, bill assistance, energy assistance]
  bill help: [utility assistance, liheap, payment assistance]
  liheap: [utility help, heating, cooling, energy assistance]

  # Disability
  disability: [ssi, ssdi, disabled, ada, special needs, impairment]
  ssi: [supplemental security income, disability, disabled]
  ssdi: [social security disability, disability benefits]
  blind: [vision, visually impaired, sight, disability]
  deaf: [hearing, hearing impaired, asl, disability]
  wheelchair: [mobility, ada, accessible, disability]

  # Seniors
  senior: [elderly, older adult, 60+, 65+, aging, retiree]
  elderly: [senior, older adult, aging]
  retirement: [senior, pension, social security, 65]
  retiree: [senior, retired, pension, social security]

  # Veterans
  veteran: [military, armed forces, va, service member, vet]
  military: [veteran, armed forces, service member]
  va: [veterans affairs, veteran, military benefits]
  gi bill: [veteran education, military education, tuition]

  # Families and children
  childcare: [daycare, preschool, babysitting, child care]
  daycare: [childcare, preschool, child care]
  after school: [afterschool, youth programs, tutoring]
  diapers: [baby, infant, wic, family]

  # Employment (expanded)
  job: [employment, work, career, hiring, workforce]
  jobs: [employment, work, career, hiring, workforce]
  unemployed: [job seeker, unemployment, laid off, jobless, edd, ui]
  unemployment: [unemployed, job seeker, laid off, edd, ui benefits]
  job training: [career, workforce, skills, employment, vocational]
  resume: [job search, employment, career, cv, cover letter, interview]
  career: [job, employment, workforce, job training, vocational]
  workforce: [job training, employment, career center, ajcc]
  edd: [unemployment, unemployed, ui, job seeker, california employment]
  vocational: [trade school, apprenticeship, certification, job training]
  apprenticeship: [vocational, trade, job training, union]
  interview: [job search, resume, career, employment]

  # Legal (expanded)
  legal aid: [lawyer, attorney, legal help, legal services, free lawyer]
  lawyer: [attorney, legal aid, legal help, legal services]
  attorney: [lawyer, legal aid, legal help]
  legal help: [legal aid, lawyer, attorney, free legal]
  tenant rights: [renter, eviction, landlord, housing, tenant]
  eviction help: [tenant rights, legal aid, rental assistance, eviction defense]
  immigration lawyer: [immigration, legal aid, citizenship, visa, daca]
  immigration: [immigrant, refugee, daca, asylum, visa, citizenship, naturalization]

  # Education (expanded)
  college: [university, higher education, student, tuition, community college]
  university: [college, higher education, student, tuition]
  tuition: [college, financial aid, scholarship, education, fafsa]
  financial aid: [fafsa, cal grant, pell grant, scholarship, tuition]
  fafsa: [financial aid, college, tuition, student aid]
  cal grant: [financial aid, college, tuition, california student aid]
  scholarship: [financial aid, tuition, college, student]
  ged: [high school equivalency, adult education, diploma, hsed]
  esl: [english, language, immigrant, adult education, english class]
  adult education: [ged, esl, adult school, literacy, continuing education]
  adult school: [adult education, ged, esl, high school diploma]
  literacy: [reading, writing, adult education, esl]
  tutoring: [homework help, academic support, after school, learning]
  head start: [preschool, early childhood, pre-k, early learning]
  preschool: [head start, pre-k, early childhood, childcare]
  school meals: [free lunch, reduced lunch, summer meals, school breakfast]

  # Transportation
  bus pass: [transit, muni, bart, transportation, clipper]
  transit: [bus, muni, bart, transportation, clipper]
  paratransit: [disability transport, accessible transit, dial-a-ride]

  # Technology
  internet: [wifi, broadband, connectivity, online]
  wifi: [internet, free wifi, connectivity]
  computer: [laptop, device, technology, digital]

  # Identity/Demographics
  lgbtq: [lgbt, gay, lesbian, bisexual, transgender, queer, pride]
  lgbt: [lgbtq, gay, lesbian, bisexual, transgender]
  trans: [transgender, lgbtq, gender]
  immigrant: [refugee, immigration, undocumented, asylum, newcomer]
  refugee: [immigrant, asylum, newcomer]

# Best Bets - featured/promoted results for specific queries
# Format: query_pattern: [program_id1, program_id2, ...]
# These appear at the top of search results
best_bets:
  # Food
  food:
    - second-harvest-food-bank
    - sf-marin-food-bank
    - calfresh-food-assistance
    - meals-on-wheels
  groceries:
    - calfresh-food-assistance
    - second-harvest-food-bank
    - sf-marin-food-bank
  hungry:
    - second-harvest-food-bank
    - sf-marin-food-bank
    - community-meal-programs

  # Rent/Housing
  rent:
    - federal-department-of-housing-choice-voucher-section-8
    - rental-assistance-program
    - eviction-prevention
  eviction:
    - bay-area-legal-aid
    - eviction-defense-collaborative
    - tenants-union
    - rental-assistance-program
  homeless:
    - coordinated-entry
    - navigation-centers
    - shelter-access

  # Healthcare
  health insurance:
    - covered-california
    - medi-cal
    - federal-centers-for-medicare-with-retirement
  mental health:
    - 988-suicide-crisis-lifeline
    - county-behavioral-health
    - community-mental-health
  crisis:
    - 988-suicide-crisis-lifeline
    - crisis-text-line
    - sf-mobile-crisis

  # Utilities
  utility bill:
    - care-program-pge
    - liheap
    - fera-program
    - reach-utility-assistance
  pge:
    - care-program-pge
    - fera-program
    - medical-baseline

  # Seniors
  senior:
    - senior-center
    - meals-on-wheels
    - federal-social-security-retirement-benefits
    - federal-centers-for-medicare-with-retirement
  retirement:
    - federal-social-security-retirement-benefits
    - federal-centers-for-medicare-with-retirement
    - federal-federal-retirement-thrift-savings-plan-tsp

  # Veterans
  veteran:
    - va-health-care
    - federal-veterans-affairs-disability-compensation
    - calvet-benefits
    - vet-center
  military:
    - va-health-care
    - federal-veterans-affairs-disability-compensation
    - federal-veterans-affairs-veteran-readiness-and-employment-vr-e

  # Disability
  disability:
    - federal-social-security-supplemental-security-income-ssi
    - federal-social-security-social-security-disability-insurance
    - in-home-supportive-services
    - regional-center

  # Jobs/Employment
  job:
    - caljobs
    - sf-jobsnow
    - nova-workforce
    - meda-workforce
  employment:
    - caljobs
    - sf-jobsnow
    - nova-workforce
    - job-corps
  career:
    - caljobs
    - nova-workforce
    - career-online-high-school
  unemployment:
    - caljobs
    - edd-unemployment-insurance
    - nova-workforce

  # Education
  education:
    - head-start-bay-area
    - cal-grant
    - career-online-high-school
    - california-college-promise-grant
  college:
    - california-college-promise-grant
    - cal-grant
    - fafsa-help
    - calvet-college-fee-waiver
  ged:
    - career-online-high-school
    - adult-school-sf
  financial aid:
    - cal-grant
    - fafsa-help
    - california-college-promise-grant

  # Legal
  legal:
    - bay-area-legal-aid
    - legal-aid-at-work
    - centro-legal-de-la-raza
  lawyer:
    - bay-area-legal-aid
    - legal-aid-at-work

# Type-ahead suggestions - common searches shown as user types
# Organized by first letter/word for quick lookup
suggestions:
  - food assistance
  - food bank near me
  - food stamps application
  - rent help
  - rental assistance
  - utility bill help
  - health insurance
  - medi-cal enrollment
  - mental health services
  - senior programs
  - veteran benefits
  - disability benefits
  - job training
  - free legal help
  - immigration services
  - childcare assistance
  - after school programs
  - bus pass discount
  - free internet
  - housing voucher
  - emergency shelter
  - cash assistance
  - calworks
  - calfresh
  - covered california
  - section 8
  - wic program
  - meals on wheels
  - lgbtq resources
  - youth programs
  - college financial aid
  # New employment suggestions
  - unemployment benefits
  - job search help
  - resume help
  - career counseling
  - workforce development
  - CalJOBS
  - job corps
  - apprenticeship programs
  # New education suggestions
  - GED classes
  - adult school
  - ESL classes
  - head start preschool
  - free preschool
  - FAFSA help
  - Cal Grant
  - tutoring programs
  - homework help
  - school meals
  # New legal suggestions
  - tenant rights
  - eviction help
  - free lawyer
  - legal aid
  - immigration lawyer

# Query rewrites - normalize common phrasings to structured searches
# These help map natural language to effective searches
query_rewrites:
  'i need food': 'food assistance'
  "i'm hungry": 'food bank'
  "can't pay rent": 'rental assistance'
  'help with rent': 'rental assistance'
  "can't pay bills": 'utility assistance'
  'help paying bills': 'utility bill help'
  'need a doctor': 'healthcare clinic'
  'feeling depressed': 'mental health'
  'need a job': 'job training employment'
  'lost my job': 'unemployment benefits'
  'need a lawyer': 'legal aid'
  'being evicted': 'eviction help legal aid'
  'nowhere to live': 'emergency shelter housing'
  'need health insurance': 'covered california medi-cal'
  # New employment rewrites
  'looking for work': 'job search employment'
  'find a job': 'job search caljobs'
  'unemployed': 'unemployment benefits job training'
  'need job training': 'workforce development job training'
  'learn a trade': 'vocational training apprenticeship'
  'get my ged': 'ged adult education'
  # New education rewrites
  'pay for college': 'financial aid fafsa cal grant'
  'free preschool': 'head start preschool'
  'learn english': 'esl adult education'
  'help with homework': 'tutoring homework help'
  'go back to school': 'adult education ged'
  # New legal rewrites
  'landlord problems': 'tenant rights legal aid'
  'facing eviction': 'eviction help legal aid'
  'immigration help': 'immigration legal aid'
  'need immigration lawyer': 'immigration legal aid'

# Refinement tree for guiding vague searches
refinement:
  # When to show refinement options
  trigger:
    min_results: 12 # Show refinement when results exceed this
    max_query_length: 10 # Show refinement for short vague queries
    vague_terms: # Always trigger for these terms
      - help
      - assistance
      - need
      - program
      - benefit
      - services
      - resources

  # Location prompt settings
  location:
    prompt: 'Where are you located?'
    show_gps_button: true
    show_zip_input: true
    privacy_note: 'Your location stays on your device'

  # Category refinement tree
  categories:
    - id: food
      label: Food
      icon: apple
      description: 'Food assistance & nutrition'
      search_terms: ['food', 'calfresh', 'snap', 'meals']
      best_bets: ['calfresh-food-assistance', 'sf-marin-food-bank', 'second-harvest-food-bank']
      sub_options:
        - label: "Can't afford groceries"
          search_terms: ['calfresh', 'food stamps', 'snap']
          best_bets: ['calfresh-food-assistance']
        - label: 'Need food right now'
          search_terms: ['food bank', 'food pantry', 'emergency food']
          best_bets: ['sf-marin-food-bank', 'second-harvest-food-bank']
        - label: 'Baby food or formula'
          search_terms: ['wic', 'baby food', 'formula', 'infant nutrition']
          best_bets: ['wic-program']
        - label: 'Senior meals'
          search_terms: ['meals on wheels', 'senior meals', 'congregate meals']
          best_bets: ['meals-on-wheels']

    - id: housing
      label: Housing
      icon: home
      description: 'Rent, housing, shelter'
      search_terms: ['housing', 'rent', 'shelter', 'homeless']
      best_bets: ['federal-department-of-housing-choice-voucher-section-8']
      sub_options:
        - label: "Can't pay rent"
          search_terms: ['rental assistance', 'rent help', 'emergency rental']
          best_bets: ['rental-assistance-program', 'eviction-prevention']
        - label: 'Facing eviction'
          search_terms: ['eviction', 'eviction defense', 'tenant rights']
          best_bets: ['bay-area-legal-aid', 'eviction-defense-collaborative']
        - label: 'Need a place to stay'
          search_terms: ['shelter', 'homeless', 'navigation center', 'coordinated entry']
          best_bets: ['coordinated-entry', 'navigation-centers']
        - label: 'Looking to buy a home'
          search_terms: ['first-time homebuyer', 'down payment', 'mortgage assistance']
          best_bets: ['calhfa-first-time-homebuyer']

    - id: healthcare
      label: Healthcare
      icon: heart
      description: 'Medical, dental, mental health'
      search_terms: ['healthcare', 'medical', 'health insurance', 'doctor']
      best_bets: ['medi-cal', 'covered-california']
      sub_options:
        - label: 'Need health insurance'
          search_terms: ['medi-cal', 'covered california', 'health insurance']
          best_bets: ['medi-cal', 'covered-california']
        - label: 'Mental health support'
          search_terms: ['mental health', 'counseling', 'therapy', 'crisis']
          best_bets: ['988-suicide-crisis-lifeline', 'county-behavioral-health']
        - label: 'Dental care'
          search_terms: ['dental', 'dentist', 'denti-cal']
          best_bets: ['denti-cal']
        - label: 'Need to see a doctor'
          search_terms: ['clinic', 'community health', 'primary care']
          best_bets: ['community-health-centers']

    - id: jobs
      label: Jobs
      icon: briefcase
      description: 'Employment & training'
      search_terms: ['job', 'employment', 'work', 'career']
      best_bets: ['caljobs', 'sf-jobsnow']
      sub_options:
        - label: 'Looking for a job'
          search_terms: ['job search', 'caljobs', 'employment']
          best_bets: ['caljobs', 'sf-jobsnow']
        - label: 'Lost my job'
          search_terms: ['unemployment', 'edd', 'laid off']
          best_bets: ['edd-unemployment-insurance']
        - label: 'Need job training'
          search_terms: ['job training', 'workforce', 'vocational']
          best_bets: ['nova-workforce', 'job-corps']
        - label: 'Resume help'
          search_terms: ['resume', 'interview', 'job search']
          best_bets: ['career-counseling-centers']

    - id: money
      label: Money
      icon: dollar
      description: 'Cash aid & bill help'
      search_terms: ['cash', 'money', 'welfare', 'bills']
      best_bets: ['calworks-cash-assistance']
      sub_options:
        - label: 'Need cash assistance'
          search_terms: ['calworks', 'welfare', 'cash aid', 'general assistance']
          best_bets: ['calworks-cash-assistance', 'general-assistance']
        - label: 'Disability benefits'
          search_terms: ['ssi', 'ssdi', 'disability']
          best_bets: ['federal-social-security-supplemental-security-income-ssi']
        - label: 'Help with utility bills'
          search_terms: ['utility', 'liheap', 'care', 'pgcap', 'energy']
          best_bets: ['care-program-pge', 'liheap']
        - label: 'Retirement/Social Security'
          search_terms: ['retirement', 'social security', 'pension']
          best_bets: ['federal-social-security-retirement-benefits']

    - id: legal
      label: Legal
      icon: scale
      description: 'Legal aid & rights'
      search_terms: ['legal', 'lawyer', 'attorney', 'rights']
      best_bets: ['bay-area-legal-aid']
      sub_options:
        - label: 'Free legal help'
          search_terms: ['legal aid', 'free lawyer', 'legal services']
          best_bets: ['bay-area-legal-aid', 'legal-aid-at-work']
        - label: 'Tenant/landlord issues'
          search_terms: ['tenant rights', 'eviction', 'landlord']
          best_bets: ['bay-area-legal-aid', 'tenants-union']
        - label: 'Immigration help'
          search_terms: ['immigration', 'citizenship', 'daca', 'visa']
          best_bets: ['centro-legal-de-la-raza', 'immigration-legal-services']

    - id: family
      label: Family
      icon: users
      description: 'Kids, childcare, seniors'
      search_terms: ['family', 'children', 'childcare', 'senior']
      best_bets: ['head-start-bay-area']
      sub_options:
        - label: 'Childcare/preschool'
          search_terms: ['childcare', 'daycare', 'preschool', 'head start']
          best_bets: ['head-start-bay-area', 'subsidized-childcare']
        - label: 'After school programs'
          search_terms: ['after school', 'youth programs', 'tutoring']
          best_bets: ['after-school-all-stars']
        - label: 'Senior services'
          search_terms: ['senior', 'elderly', 'aging', 'meals on wheels']
          best_bets: ['senior-center', 'meals-on-wheels']
        - label: 'Diapers/baby supplies'
          search_terms: ['diapers', 'baby', 'infant', 'wic']
          best_bets: ['diaper-bank', 'wic-program']

    - id: education
      label: Education
      icon: graduation
      description: 'School, college, GED'
      search_terms: ['education', 'school', 'college', 'ged']
      best_bets: ['cal-grant']
      sub_options:
        - label: 'Paying for college'
          search_terms: ['financial aid', 'fafsa', 'cal grant', 'scholarship']
          best_bets: ['cal-grant', 'fafsa-help']
        - label: 'GED/Adult education'
          search_terms: ['ged', 'adult education', 'adult school']
          best_bets: ['career-online-high-school', 'adult-school-sf']
        - label: 'ESL/English classes'
          search_terms: ['esl', 'english', 'language']
          best_bets: ['esl-classes']
        - label: 'School meals'
          search_terms: ['school meals', 'free lunch', 'summer meals']
          best_bets: ['national-school-lunch-program']
