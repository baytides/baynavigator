---
/**
 * Skip Links Component
 * Provides keyboard navigation shortcuts for screen reader users
 * WCAG 2.4.1: Bypass Blocks
 */

interface SkipLink {
  href: string;
  label: string;
}

interface Props {
  links?: SkipLink[];
}

const defaultLinks: SkipLink[] = [
  { href: '#main-content', label: 'Skip to main content' },
  { href: '#search', label: 'Skip to search' },
  { href: '#footer', label: 'Skip to footer' },
];

const { links = defaultLinks } = Astro.props;
---

<nav class="skip-links-container" aria-label="Skip links">
  {
    links.map((link) => (
      <a href={link.href} class="skip-link">
        {link.label}
      </a>
    ))
  }
</nav>

<style>
  .skip-links-container {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 9999;
  }

  .skip-link {
    position: absolute;
    top: -100%;
    left: 0;
    padding: 0.75rem 1rem;
    background-color: #005a5f;
    color: white;
    font-weight: 500;
    text-decoration: none;
    border-radius: 0 0 0.375rem 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    transition: top 0.15s ease-in-out;
  }

  .skip-link:focus {
    top: 0;
    outline: 2px solid white;
    outline-offset: 2px;
  }

  /* Stack multiple skip links */
  .skip-link:nth-child(2):focus {
    top: 44px;
  }

  .skip-link:nth-child(3):focus {
    top: 88px;
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .skip-link {
      transition: none;
    }
  }
</style>
